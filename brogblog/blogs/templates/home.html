{% extends 'base.html' %}
{% load static %}

{% block title %} Home {% endblock %}
{% block content %}
                <section class="mb-8">
                    <!-- Categories -->
                    <h2 class="text-lg font-semibold mb-2">Categories</h2>
                    <div class="overflow-x-auto no-scrollbar mb-6">
                        <div class="flex gap-3">
                            {% for c in categories %}
                            <a href="{% url 'category-detail' c.name %}" 
                            class="flex-shrink-0 px-4 py-2 text-sm font-medium rounded-full
                                    bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200
                                    hover:bg-blue-200 dark:hover:bg-blue-800 transition">
                                {{ c.name }}
                            </a>
                            {% endfor %}
                        </div>
                    </div>
                </section>
                <div x-data="{ tab: 'recommended' }" class="mb-8">

    <!-- Tab buttons -->
    <div x-data="{ tab: 'recommended' }" class="mb-6 border-b border-slate-200 dark:border-slate-800">
        <nav class="flex justify-center gap-4">
            <!-- Recommended -->
            <button @click="tab='recommended'"
                    :class="tab==='recommended' 
                            ? 'px-3 py-2 text-sm font-bold border-b-2 border-primary text-primary' 
                            : 'px-3 py-2 text-sm font-bold border-b-2 border-transparent text-slate-500 dark:text-slate-400 hover:text-primary hover:border-primary transition-colors'">
                Recommended
            </button>

            <!-- Popular -->
            <button @click="tab='popular'"
                    :class="tab==='popular' 
                            ? 'px-3 py-2 text-sm font-bold border-b-2 border-primary text-primary' 
                            : 'px-3 py-2 text-sm font-bold border-b-2 border-transparent text-slate-500 dark:text-slate-400 hover:text-primary hover:border-primary transition-colors'">
                Popular
            </button>

            <!-- My Feed -->
            {% if request.user.is_authenticated %}
            <button @click="tab='myfeed'"
                    :class="tab==='myfeed' 
                            ? 'px-3 py-2 text-sm font-bold border-b-2 border-primary text-primary' 
                            : 'px-3 py-2 text-sm font-bold border-b-2 border-transparent text-slate-500 dark:text-slate-400 hover:text-primary hover:border-primary transition-colors'">
                My Feed
            </button>
            {% endif %}
        </nav>



    <!-- Recommended -->
    <div x-show="tab==='recommended'" class="grid gap-8 md:grid-cols-2 lg:grid-cols-3 mt-5">
        {% include "partials/blogbox_big.html" %}
    </div>

    <!-- Popular -->
    <div x-show="tab==='popular'" class="grid gap-8 md:grid-cols-2 lg:grid-cols-3 mt-5">
        {% include "partials/blogbox_big.html" with blogs=popular_blogs %}
    </div>

    <!-- My Feed -->
    <div x-show="tab==='myfeed'" class="grid gap-8 md:grid-cols-2 lg:grid-cols-3 mt-5">
        {% if myfeed_blogs %}
            {% include "partials/blogbox_big.html" with blogs=myfeed_blogs %}
        {% else %}
            <div class="text-center text-slate-500 dark:text-slate-400">
                No blogs from the users you are following. <br>
                Try following more people to see their posts!
            </div>
        {% endif %}
    </div>
        </div>

</div>
{% endblock %}